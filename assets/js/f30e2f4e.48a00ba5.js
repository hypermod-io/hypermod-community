"use strict";(self.webpackChunkcodeshift_community=self.webpackChunkcodeshift_community||[]).push([[8138],{2855:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=s(4848),n=s(8453);const r={id:"glossary",title:"Glossary",slug:"/glossary"},i=void 0,a={id:"glossary",title:"Glossary",description:"Codemod",source:"@site/docs/glossary.mdx",sourceDirName:".",slug:"/glossary",permalink:"/docs/glossary",draft:!1,unlisted:!1,editUrl:"https://github.com/hypermod-io/hypermod-community/edit/main/website/docs/glossary.mdx",tags:[],version:"current",frontMatter:{id:"glossary",title:"Glossary",slug:"/glossary"},sidebar:"docs",previous:{title:"Ecosystem",permalink:"/docs/ecosystem"},next:{title:"Authoring",permalink:"/docs/authoring"}},c={},d=[{value:"Codemod",id:"codemod",level:2},{value:"Transform",id:"transform",level:2},{value:"Motion",id:"motion",level:2},{value:"AST",id:"ast",level:2},{value:"jscodeshift",id:"jscodeshift",level:2},{value:"recast",id:"recast",level:2},{value:"ast-types",id:"ast-types",level:2},{value:"Node",id:"node",level:2},{value:"Path",id:"path",level:2},{value:"Collection",id:"collection",level:2},{value:"Builders",id:"builders",level:2}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"codemod",children:"Codemod"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Code that is written with the sole intent of transforming other code. An example would be a piece of code that takes a normal function, and rewrites it to be an arrow function."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsx)(t.p,{children:"A codemod is a tool that can automatically refactor code. This can be particularly useful when making large-scale changes to a codebase, such as changing a function or method signature. Instead of manually updating every instance of the function, a codemod can do the work for you."}),"\n",(0,o.jsx)(t.p,{children:"Codemods are often used to update code to be compatible with newer versions of a programming language or library. For example, if a library changes its API, a codemod can automatically update all of the code that uses the old API to use the new one. This saves time and helps ensure that the codebase stays up-to-date and consistent."}),"\n",(0,o.jsx)(t.p,{children:"To use a codemod, you typically provide it with the old and new code, as well as the files or directories that you want to update. The codemod will then scan the code and make the necessary changes. Some codemods are simple and only make a single replacement, while others can perform more complex refactoring."}),"\n",(0,o.jsx)(t.p,{children:"One important thing to note about codemods is that they are not perfect. Because they are automatically making changes to your code, there is always the potential for errors. It is important to carefully review the changes made by a codemod and fix any issues that may arise."}),"\n",(0,o.jsx)(t.p,{children:"In summary, codemods are a useful tool for automatically refactoring code. They can save time and help ensure that your code stays up-to-date and consistent. However, it is important to carefully review the changes made by a codemod to avoid any potential errors."}),"\n",(0,o.jsx)(t.p,{children:'For example, here is an example of a simple codemod that transforms the string "hello world" to "hello universe" using the JSCodeshift library:'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"const jscodeshift = require('jscodeshift');\n\nmodule.exports = function transformer(file, api) {\n  const j = api.jscodeshift;\n  return j(file.source)\n    .find(j.Literal)\n    .filter(path => path.node.value === 'hello world')\n    .replaceWith(() => j.literal('hello universe'))\n    .toSource();\n};\n"})}),"\n",(0,o.jsx)(t.p,{children:'This codemod searches the code for literal values that equal "hello world" and replaces them with "hello universe". It uses the jscodeshift library to parse and transform the code, and then returns the modified code as a string.'}),"\n",(0,o.jsx)(t.h2,{id:"transform",children:"Transform"}),"\n",(0,o.jsx)(t.p,{children:"A transform is simply a javascript function which serves as the entry-point for your codemod."}),"\n",(0,o.jsx)(t.p,{children:"For example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",children:"module.exports = function transformer(file, api) {\n  //... codemod goes here\n};\n"})}),"\n",(0,o.jsx)(t.h2,{id:"motion",children:"Motion"}),"\n",(0,o.jsx)(t.p,{children:"A motion (aka migration) is what we call specific actions performed within a codemod. Put simply, javascript functions that are responsible for a single action within a codemod."}),"\n",(0,o.jsxs)(t.p,{children:["For more information see: ",(0,o.jsx)(t.a,{href:"/docs/authoring#motions",children:"Authoring"})]}),"\n",(0,o.jsx)(t.h2,{id:"ast",children:"AST"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"An abstract syntax tree (AST), is a tree representation of the abstract syntactic structure of source code written in a programming language. Each node of the tree denotes a construct occurring in the source code."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Abstract_syntax_tree",children:"Wiki: Abstract syntax tree"})]}),"\n",(0,o.jsx)(t.h2,{id:"jscodeshift",children:"jscodeshift"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://github.com/facebook/jscodeshift",children:"jscodeshift"})," is the underlying library used by Hypermod."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Provides both a CLI for running transforms and a jQuery-like API for manipulating ASTs"}),"\n",(0,o.jsxs)(t.li,{children:["AST transformations are performed using a wrapper around ",(0,o.jsx)(t.a,{href:"https://github.com/benjamn/recast",children:"recast"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["The AST is implemented in ",(0,o.jsx)(t.a,{href:"https://github.com/benjamn/ast-types",children:"ast-types"}),", which is itself based on ",(0,o.jsx)(t.a,{href:"https://esprima.org/",children:"esprima"})]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"recast",children:"recast"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://github.com/benjamn/recast",children:"recast"})," is the underlying library used by jscodeshift to parse, transform and output files as ASTs. It's a comparable library to ",(0,o.jsx)(t.a,{href:"https://babeljs.io/",children:"babel"})]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"A fantastic library (authored by Ben Newman) that takes an AST and transforms it back into source code. The beauty of recast is that it tries to preserve as much of your codes existing formatting as possible."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsx)(t.h2,{id:"ast-types",children:"ast-types"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/benjamn/ast-types",children:"ast-types"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"Another great library authored by Ben Newman. It exposes 2 kinds of helpers that you\u2019ll be using: functions that allow you to verify assumptions about nodes, and functions that allow you to compose new nodes to be added to an existing AST."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsx)(t.h2,{id:"node",children:"Node"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["The representation of a single construct within an AST. An example of a node could be a node for a ",(0,o.jsx)(t.code,{children:"FunctionExpression"}),". A node will often have many other nodes nested within it."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsxs)(t.p,{children:["For more information see the ",(0,o.jsx)(t.a,{href:"https://github.com/facebook/jscodeshift#ast-nodes",children:"jscodeshift docs"})]}),"\n",(0,o.jsx)(t.h2,{id:"path",children:"Path"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"An object that wraps a single node, and exposes an API to make modifying/inspecting information about the node simpler."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsxs)(t.p,{children:["For more information see the ",(0,o.jsx)(t.a,{href:"https://github.com/facebook/jscodeshift#path-objects",children:"jscodeshift docs"})]}),"\n",(0,o.jsx)(t.h2,{id:"collection",children:"Collection"}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"A group of path objects that exposes helpers to transform all contained paths, or traverse them further. Collections are very similar to the object returned from jQuery\u2019s $() function."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["\u2013 ",(0,o.jsx)(t.a,{href:"https://medium.com/@andrew_levine/writing-your-very-first-codemod-with-jscodeshift-7a24c4ede31b",children:"Reference"})]}),"\n",(0,o.jsxs)(t.p,{children:["For more information see the ",(0,o.jsx)(t.a,{href:"https://github.com/facebook/jscodeshift#collections-and-traversal",children:"jscodeshift docs"})]}),"\n",(0,o.jsx)(t.h2,{id:"builders",children:"Builders"}),"\n",(0,o.jsx)(t.p,{children:"Builders are methods intended to create new AST nodes."}),"\n",(0,o.jsxs)(t.p,{children:["For example creating an import declaration with the ",(0,o.jsx)(t.code,{children:"importDeclaration()"})," builder might look like this:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"j.importDeclaration(\n  [j.importDefaultSpecifier(j.identifier('Foo'))],\n  j.stringLiteral('bar'),\n);\n"})}),"\n",(0,o.jsxs)(t.p,{children:["For more information see the ",(0,o.jsx)(t.a,{href:"https://github.com/facebook/jscodeshift#builders",children:"jscodeshift docs"})]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>a});var o=s(6540);const n={},r=o.createContext(n);function i(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);